<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CRPropa 3: Magnetic Lenses</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CRPropa 3
   </div>
   <div id="projectbrief">Propagation of ultra-relativistic particles through galactic and extragalactic space</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Building&#160;Blocks</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Magnetic Lenses</div>  </div>
</div><!--header-->
<div class="contents">

<p>Lensing technique to account for deflections in the galactic magnetic field.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:classcrpropa_1_1MagneticLens"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#classcrpropa_1_1MagneticLens">MagneticLens</a></td></tr>
<tr class="memdesc:classcrpropa_1_1MagneticLens"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lens for the galactic magnetic field. Note that the energies refer to protons (Z=1). To be used with other particles with a different charge number please select the rigidity accordingly.  <a href="group__MagneticLenses.html#classcrpropa_1_1MagneticLens">More...</a><br/></td></tr>
<tr class="separator:classcrpropa_1_1MagneticLens"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:classcrpropa_1_1ParticleMapsContainer"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#classcrpropa_1_1ParticleMapsContainer">ParticleMapsContainer</a></td></tr>
<tr class="memdesc:classcrpropa_1_1ParticleMapsContainer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for particlemaps The maps are stored with discrete energies on a logarithmic scale. The default energy width is 0.02 with an energy bin from 10**17.99 - 10**18.01 eV.  <a href="group__MagneticLenses.html#classcrpropa_1_1ParticleMapsContainer">More...</a><br/></td></tr>
<tr class="separator:classcrpropa_1_1ParticleMapsContainer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:classcrpropa_1_1Pixelization"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#classcrpropa_1_1Pixelization">Pixelization</a></td></tr>
<tr class="memdesc:classcrpropa_1_1Pixelization"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every communication with healpix is done through this class to avoid bugs with missmatching coordinates (and make python hooks easier)  <a href="group__MagneticLenses.html#classcrpropa_1_1Pixelization">More...</a><br/></td></tr>
<tr class="separator:classcrpropa_1_1Pixelization"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gae5e279b73f61763edc7d0651e38e481d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae5e279b73f61763edc7d0651e38e481d"></a>
const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#gae5e279b73f61763edc7d0651e38e481d">_nOrder_max</a> = 13</td></tr>
<tr class="memdesc:gae5e279b73f61763edc7d0651e38e481d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helpers to makes work with Healpix smooth. <br/></td></tr>
<tr class="separator:gae5e279b73f61763edc7d0651e38e481d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e6fb5fa38bb69d9a6852cf2e0d97437"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>_nPix</b> []</td></tr>
<tr class="separator:ga3e6fb5fa38bb69d9a6852cf2e0d97437"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Lensing technique to account for deflections in the galactic magnetic field. </p>
<hr/><h2 class="groupheader">Class Documentation</h2>
<a name="classcrpropa_1_1MagneticLens" id="classcrpropa_1_1MagneticLens"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class crpropa::MagneticLens</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The lens for the galactic magnetic field. Note that the energies refer to protons (Z=1). To be used with other particles with a different charge number please select the rigidity accordingly. </p>

<p>Definition at line <a class="el" href="MagneticLens_8h_source.html#l00147">147</a> of file <a class="el" href="MagneticLens_8h_source.html">MagneticLens.h</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Public Member Functions</h3></td></tr>
<tr class="memitem:a643cd62aed5c704da458d60bb603c326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a643cd62aed5c704da458d60bb603c326"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a643cd62aed5c704da458d60bb603c326">MagneticLens</a> ()</td></tr>
<tr class="memdesc:a643cd62aed5c704da458d60bb603c326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br/></td></tr>
<tr class="separator:a643cd62aed5c704da458d60bb603c326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fe2b9e680ef54314604383f4ad5543"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00fe2b9e680ef54314604383f4ad5543"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a00fe2b9e680ef54314604383f4ad5543">MagneticLens</a> (uint8_t healpixorder)</td></tr>
<tr class="memdesc:a00fe2b9e680ef54314604383f4ad5543"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs lens with predefined healpix order. <br/></td></tr>
<tr class="separator:a00fe2b9e680ef54314604383f4ad5543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8b3bb801ef96e978ddab414f8535cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe8b3bb801ef96e978ddab414f8535cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#afe8b3bb801ef96e978ddab414f8535cc">MagneticLens</a> (const string &amp;filename)</td></tr>
<tr class="memdesc:afe8b3bb801ef96e978ddab414f8535cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct lens and load lens from file. <br/></td></tr>
<tr class="separator:afe8b3bb801ef96e978ddab414f8535cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf0dc0125c88bfc2053f0e8550b5256"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcf0dc0125c88bfc2053f0e8550b5256"></a>
const <a class="el" href="group__MagneticLenses.html#classcrpropa_1_1Pixelization">Pixelization</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#abcf0dc0125c88bfc2053f0e8550b5256">getPixelization</a> () const </td></tr>
<tr class="memdesc:abcf0dc0125c88bfc2053f0e8550b5256"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pixelization used. <br/></td></tr>
<tr class="separator:abcf0dc0125c88bfc2053f0e8550b5256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c98dc48a252726583c5c23ada3d358"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38c98dc48a252726583c5c23ada3d358"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a38c98dc48a252726583c5c23ada3d358">~MagneticLens</a> ()</td></tr>
<tr class="memdesc:a38c98dc48a252726583c5c23ada3d358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor. <br/></td></tr>
<tr class="separator:a38c98dc48a252726583c5c23ada3d358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7854f867ce85aed7cf05a4de7e3aae16"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a7854f867ce85aed7cf05a4de7e3aae16">transformCosmicRay</a> (double rigidity, double &amp;phi, double &amp;theta)</td></tr>
<tr class="memdesc:a7854f867ce85aed7cf05a4de7e3aae16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to transform the comsic ray to a new direction. Returns false and does not change phi and theta if the cosmic ray is lost due to conservation of cosmic ray flux. Rigidity is given in Joule, phi and theta in rad. <br/></td></tr>
<tr class="separator:a7854f867ce85aed7cf05a4de7e3aae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf082f466e832093d83553dcc1d90908"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf082f466e832093d83553dcc1d90908"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#aaf082f466e832093d83553dcc1d90908">transformCosmicRay</a> (double rigidity, <a class="el" href="group__Core.html">Vector3d</a> &amp;p)</td></tr>
<tr class="memdesc:aaf082f466e832093d83553dcc1d90908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries transform a cosmic ray with momentum vector p. <br/></td></tr>
<tr class="separator:aaf082f466e832093d83553dcc1d90908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28de5ba79d438d7dc3e574049ec5b01f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28de5ba79d438d7dc3e574049ec5b01f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a28de5ba79d438d7dc3e574049ec5b01f">transformModelVector</a> (double *model, double rigidity) const </td></tr>
<tr class="memdesc:a28de5ba79d438d7dc3e574049ec5b01f"><td class="mdescLeft">&#160;</td><td class="mdescRight">transforms the model array assuming that model points to an array of the correct size. Rigidity is given in Joule <br/></td></tr>
<tr class="separator:a28de5ba79d438d7dc3e574049ec5b01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6860693addc8f4585314d4a2456129"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade6860693addc8f4585314d4a2456129"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ade6860693addc8f4585314d4a2456129">setLensPart</a> (const ModelMatrixType &amp;M, double rigidityMin, double rigidityMax)</td></tr>
<tr class="memdesc:ade6860693addc8f4585314d4a2456129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads M as part of a lens and use it in given rigidity range with rigidities given in Joule. <br/></td></tr>
<tr class="separator:ade6860693addc8f4585314d4a2456129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47603966d403181b3bfd4577f4142ab3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47603966d403181b3bfd4577f4142ab3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a47603966d403181b3bfd4577f4142ab3">loadLens</a> (const string &amp;filename)</td></tr>
<tr class="memdesc:a47603966d403181b3bfd4577f4142ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a lens from a given file, containing lines like lensefile.MLDAT rigidityMin rigidityMax rigidities are given in logarithmic units [log10(E / eV)]. <br/></td></tr>
<tr class="separator:a47603966d403181b3bfd4577f4142ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae988fb8fef9974c11ef93767120e6df5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae988fb8fef9974c11ef93767120e6df5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ae988fb8fef9974c11ef93767120e6df5">normalizeLens</a> ()</td></tr>
<tr class="memdesc:ae988fb8fef9974c11ef93767120e6df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes the lens parts to the maximum of sums of columns of every lenspart. By doing this, the lens won't distort the spectrum. <br/></td></tr>
<tr class="separator:ae988fb8fef9974c11ef93767120e6df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e75afd0737b2785de34fe0906dcf8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46e75afd0737b2785de34fe0906dcf8a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a46e75afd0737b2785de34fe0906dcf8a">normalizeLensparts</a> ()</td></tr>
<tr class="memdesc:a46e75afd0737b2785de34fe0906dcf8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes the lens parts individually. Normalized this way, the lens generally distorts the spectrum of the sources, but deflects the UHECR more efficiently. <br/></td></tr>
<tr class="separator:a46e75afd0737b2785de34fe0906dcf8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8297f36f56469580f57efb1719de16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a8297f36f56469580f57efb1719de16"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a7a8297f36f56469580f57efb1719de16">rigidityCovered</a> (double rigidity) const </td></tr>
<tr class="memdesc:a7a8297f36f56469580f57efb1719de16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if rigidity [Joule] is covered by lens. <br/></td></tr>
<tr class="separator:a7a8297f36f56469580f57efb1719de16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4d2ede0ccac44aa936592ea2c37d21d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#aa4d2ede0ccac44aa936592ea2c37d21d">normalizeMatrixColumns</a> ()</td></tr>
<tr class="memdesc:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes all matrix columns - the lens will then create fake anisotropies, but won't drop particles. <br/></td></tr>
<tr class="separator:aa4d2ede0ccac44aa936592ea2c37d21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa143e3fdec40f25b40f4bb08a9608fe1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#aa143e3fdec40f25b40f4bb08a9608fe1">getMinimumRigidity</a> () const </td></tr>
<tr class="memdesc:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns minimum rigidity covered by lens, in eV. <br/></td></tr>
<tr class="separator:aa143e3fdec40f25b40f4bb08a9608fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac814fd2680bffcc16172c431dbed079a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac814fd2680bffcc16172c431dbed079a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ac814fd2680bffcc16172c431dbed079a">getMaximumRigidity</a> () const </td></tr>
<tr class="memdesc:ac814fd2680bffcc16172c431dbed079a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns maximum rigidity covered by lens, in eV. <br/></td></tr>
<tr class="separator:ac814fd2680bffcc16172c431dbed079a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e66e331583b40489d851550d3e81a45"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e66e331583b40489d851550d3e81a45"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getNorm</b> ()</td></tr>
<tr class="separator:a3e66e331583b40489d851550d3e81a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ba4bd227bfac8c26681ec2791178f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06ba4bd227bfac8c26681ec2791178f2"></a>
<a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a06ba4bd227bfac8c26681ec2791178f2">getLensPart</a> (double rigidity) const </td></tr>
<tr class="memdesc:a06ba4bd227bfac8c26681ec2791178f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns iterator to the lens part with rigidity Joule. <br/></td></tr>
<tr class="separator:a06ba4bd227bfac8c26681ec2791178f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde36d3655b92b2dfb03c062b6ee2730"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afde36d3655b92b2dfb03c062b6ee2730"></a>
const std::vector&lt; <a class="el" href="classcrpropa_1_1LensPart.html">LensPart</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#afde36d3655b92b2dfb03c062b6ee2730">getLensParts</a> () const </td></tr>
<tr class="memdesc:afde36d3655b92b2dfb03c062b6ee2730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all lens parts. <br/></td></tr>
<tr class="separator:afde36d3655b92b2dfb03c062b6ee2730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
<a name="classcrpropa_1_1ParticleMapsContainer" id="classcrpropa_1_1ParticleMapsContainer"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class crpropa::ParticleMapsContainer</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Container for particlemaps The maps are stored with discrete energies on a logarithmic scale. The default energy width is 0.02 with an energy bin from 10**17.99 - 10**18.01 eV. </p>

<p>Definition at line <a class="el" href="ParticleMapsContainer_8h_source.html#l00021">21</a> of file <a class="el" href="ParticleMapsContainer_8h_source.html">ParticleMapsContainer.h</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Public Member Functions</h3></td></tr>
<tr class="memitem:a7b7f52e314f549095276d3edfbd0a98d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b7f52e314f549095276d3edfbd0a98d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParticleMapsContainer</b> (double deltaLogE=0.02, double bin0lowerEdge=17.99)</td></tr>
<tr class="separator:a7b7f52e314f549095276d3edfbd0a98d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96333d9646d1510d13e071cdc71e3c3a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96333d9646d1510d13e071cdc71e3c3a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>getNumberOfPixels</b> ()</td></tr>
<tr class="separator:a96333d9646d1510d13e071cdc71e3c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb83606b790af55f573c54cb7f0014b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8eb83606b790af55f573c54cb7f0014b"></a>
double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a8eb83606b790af55f573c54cb7f0014b">getMap</a> (const int particleId, double energy)</td></tr>
<tr class="memdesc:a8eb83606b790af55f573c54cb7f0014b"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the map for the particleId with the given energy,. energy in Joule <br/></td></tr>
<tr class="separator:a8eb83606b790af55f573c54cb7f0014b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccf2f636b6d166f5f391242845090ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ccf2f636b6d166f5f391242845090ca"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a9ccf2f636b6d166f5f391242845090ca">addParticle</a> (const int particleId, double energy, double galacticLongitude, double galacticLatitude, double weight=1)</td></tr>
<tr class="memdesc:a9ccf2f636b6d166f5f391242845090ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds a particle to the map container particleId is HEP particleId, energy [Joule], galacticLongitude and galacticLatitude in [rad] <br/></td></tr>
<tr class="separator:a9ccf2f636b6d166f5f391242845090ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df900c2405c72a161f88a845b5c42de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6df900c2405c72a161f88a845b5c42de"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>addParticle</b> (const int particleId, double energy, const <a class="el" href="group__Core.html">Vector3d</a> &amp;v, double weight=1)</td></tr>
<tr class="separator:a6df900c2405c72a161f88a845b5c42de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16423cacef0f6ce324ca31791c71b26a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16423cacef0f6ce324ca31791c71b26a"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getParticleIds</b> ()</td></tr>
<tr class="separator:a16423cacef0f6ce324ca31791c71b26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941d6cc240430f50d2787a8d93aff761"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a941d6cc240430f50d2787a8d93aff761"></a>
std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getEnergies</b> (int pid)</td></tr>
<tr class="separator:a941d6cc240430f50d2787a8d93aff761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af349294ade35e680135a219373479a85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af349294ade35e680135a219373479a85"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>applyLens</b> (<a class="el" href="group__MagneticLenses.html#classcrpropa_1_1MagneticLens">MagneticLens</a> &amp;lens)</td></tr>
<tr class="separator:af349294ade35e680135a219373479a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fffcc73dcce971e8de346db6a747a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69fffcc73dcce971e8de346db6a747a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getRandomParticles</b> (size_t N, vector&lt; int &gt; &amp;particleId, vector&lt; double &gt; &amp;energy, vector&lt; double &gt; &amp;galacticLongitudes, vector&lt; double &gt; &amp;galacticLatitudes)</td></tr>
<tr class="separator:a69fffcc73dcce971e8de346db6a747a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a418c3776916213073c73b903b5f53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88a418c3776916213073c73b903b5f53"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>placeOnMap</b> (int pid, double energy, double &amp;galacticLongitude, double &amp;galacticLatitude)</td></tr>
<tr class="separator:a88a418c3776916213073c73b903b5f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b1930e42bce2f98bb0870f5a8e8f6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9b1930e42bce2f98bb0870f5a8e8f6a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>forceWeightUpdate</b> ()</td></tr>
<tr class="separator:ad9b1930e42bce2f98bb0870f5a8e8f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775948ef0f32261bcbbe3329269fbbe4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a775948ef0f32261bcbbe3329269fbbe4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getSumOfWeights</b> ()</td></tr>
<tr class="separator:a775948ef0f32261bcbbe3329269fbbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff79bb2e281ccda6f5b7e7b055e0279"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaff79bb2e281ccda6f5b7e7b055e0279"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getWeight</b> (int pid, double energy)</td></tr>
<tr class="separator:aaff79bb2e281ccda6f5b7e7b055e0279"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
<a name="classcrpropa_1_1Pixelization" id="classcrpropa_1_1Pixelization"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class crpropa::Pixelization</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Every communication with healpix is done through this class to avoid bugs with missmatching coordinates (and make python hooks easier) </p>

<p>Definition at line <a class="el" href="Pixelization_8h_source.html#l00059">59</a> of file <a class="el" href="Pixelization_8h_source.html">Pixelization.h</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Public Member Functions</h3></td></tr>
<tr class="memitem:aeefb8b8e1a329293e43736d4d74c7009"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeefb8b8e1a329293e43736d4d74c7009"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#aeefb8b8e1a329293e43736d4d74c7009">Pixelization</a> (uint8_t order)</td></tr>
<tr class="memdesc:aeefb8b8e1a329293e43736d4d74c7009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor creating <a class="el" href="group__MagneticLenses.html#classcrpropa_1_1Pixelization" title="Every communication with healpix is done through this class to avoid bugs with missmatching coordinat...">Pixelization</a> with healpix order 6 (about 50000 pixels) <br/></td></tr>
<tr class="separator:aeefb8b8e1a329293e43736d4d74c7009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8697c28ebb4cec74fc2bf9aaa523523e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8697c28ebb4cec74fc2bf9aaa523523e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a8697c28ebb4cec74fc2bf9aaa523523e">direction2Pix</a> (double longitude, double latitude) const </td></tr>
<tr class="memdesc:a8697c28ebb4cec74fc2bf9aaa523523e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the pixel which includes the direction (phi,theta) phi in [-pi, pi], theta in [-pi/2, pi/2]. <br/></td></tr>
<tr class="separator:a8697c28ebb4cec74fc2bf9aaa523523e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab384027f908821bc8b410ef37de90457"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab384027f908821bc8b410ef37de90457"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ab384027f908821bc8b410ef37de90457">nPix</a> () const </td></tr>
<tr class="memdesc:ab384027f908821bc8b410ef37de90457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of pixels of the pixelization. <br/></td></tr>
<tr class="separator:ab384027f908821bc8b410ef37de90457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90b19b15460e9cf0a82c125cfb249cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab90b19b15460e9cf0a82c125cfb249cc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ab90b19b15460e9cf0a82c125cfb249cc">getNumberOfPixels</a> ()</td></tr>
<tr class="memdesc:ab90b19b15460e9cf0a82c125cfb249cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of pixels of the pixelization. <br/></td></tr>
<tr class="separator:ab90b19b15460e9cf0a82c125cfb249cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cbfccdbc95871a8431df7ec2e61f22"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26cbfccdbc95871a8431df7ec2e61f22"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a26cbfccdbc95871a8431df7ec2e61f22">pix2Direction</a> (uint32_t i, double &amp;longitude, double &amp;latitude) const </td></tr>
<tr class="memdesc:a26cbfccdbc95871a8431df7ec2e61f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the center of pixel i in longitude [rad] and latitude [rad]. <br/></td></tr>
<tr class="separator:a26cbfccdbc95871a8431df7ec2e61f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77112b1a1b6b2b9a32aaf0525b216821"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77112b1a1b6b2b9a32aaf0525b216821"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a77112b1a1b6b2b9a32aaf0525b216821">angularDistance</a> (uint32_t i, uint32_t j) const </td></tr>
<tr class="memdesc:a77112b1a1b6b2b9a32aaf0525b216821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the angle [rad] between the vectors pointing to pixels i and j. <br/></td></tr>
<tr class="separator:a77112b1a1b6b2b9a32aaf0525b216821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8167b105f4e3a97bbeec1c729e1b76cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8167b105f4e3a97bbeec1c729e1b76cb"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#a8167b105f4e3a97bbeec1c729e1b76cb">getMaxOrder</a> () const </td></tr>
<tr class="memdesc:a8167b105f4e3a97bbeec1c729e1b76cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum possible pixelization order. <br/></td></tr>
<tr class="separator:a8167b105f4e3a97bbeec1c729e1b76cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a8651852b2606814b63875e0074309"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1a8651852b2606814b63875e0074309"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#ad1a8651852b2606814b63875e0074309">getOrder</a> () const </td></tr>
<tr class="memdesc:ad1a8651852b2606814b63875e0074309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns healpix order. <br/></td></tr>
<tr class="separator:ad1a8651852b2606814b63875e0074309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61260ac39b82202cc7f56ba45ae6988"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac61260ac39b82202cc7f56ba45ae6988"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getRandomDirectionInPixel</b> (uint32_t pixel, double &amp;longitude, double &amp;latitude)</td></tr>
<tr class="separator:ac61260ac39b82202cc7f56ba45ae6988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64520f505c79795beeb080d26f205be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac64520f505c79795beeb080d26f205be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getPixelsInCone</b> (double longitude, double latitude, double radius, std::vector&lt; int &gt; &amp;listpix)</td></tr>
<tr class="separator:ac64520f505c79795beeb080d26f205be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><h3>Static Public Member Functions</h3></td></tr>
<tr class="memitem:afcf41de7a672fed68c99f75388676b95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcf41de7a672fed68c99f75388676b95"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#afcf41de7a672fed68c99f75388676b95">nPix</a> (uint8_t order)</td></tr>
<tr class="memdesc:afcf41de7a672fed68c99f75388676b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of pixels given by healpix order. <br/></td></tr>
<tr class="separator:afcf41de7a672fed68c99f75388676b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7daef73aa0ea99f40de722707a0dcb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac7daef73aa0ea99f40de722707a0dcb"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MagneticLenses.html#aac7daef73aa0ea99f40de722707a0dcb">pix2Order</a> (uint32_t pix)</td></tr>
<tr class="memdesc:aac7daef73aa0ea99f40de722707a0dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the order, a given pixel number corresponds to. 0 if no match! <br/></td></tr>
<tr class="separator:aac7daef73aa0ea99f40de722707a0dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga3e6fb5fa38bb69d9a6852cf2e0d97437"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t _nPix[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">                48,</div>
<div class="line">                192,</div>
<div class="line">                768,</div>
<div class="line">                3072,</div>
<div class="line">                12288,</div>
<div class="line">                49152,</div>
<div class="line">                196608,</div>
<div class="line">                786432,</div>
<div class="line">                3145728,</div>
<div class="line">                12582912,</div>
<div class="line">                50331648,</div>
<div class="line">                201326592,</div>
<div class="line">                805306368</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="Pixelization_8h_source.html#l00040">40</a> of file <a class="el" href="Pixelization_8h_source.html">Pixelization.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 7 2019 15:00:43 for CRPropa 3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
